<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Wands and Guns tutorial</title>
    </head>
    <body>
        <h1>Wands and Guns tutorial</h1>
        <p>
            In this tutorial, I will demonstrate how to add (custom) wands and guns with this plug-in. They are described in this 
            same tutorial because wands and guns are surprisingly similar: they both fire <b>custom projectiles</b>. The difference 
            is that wands don't need bullets (they can only have a cooldown and charges). Guns can have have cooldowns, can require
            bullets directly from the inventory, or they need to be loaded before they can shoot. The exact system will be configured 
            by you.
        </p>
        <p><b>
            This is an advanced tutorial, so I will not show the basic setup needed for this plug-in. I recommend reading or watching
            one of the basic tutorials first (if you haven't done so already).
            This tutorial was created with Editor 9.6. If you are using an older version of the Editor, you might miss some of the 
            features I show here. In that case, you should download a newer version of the Editor.
        </b></p>
        <h2>Custom projectiles</h2>
        <p>
            Before you can create wands and guns, you need to define the projectiles they will fire. These 3 images will guide you 
            to get started (if you have used the Editor before, you should immediately recognize the menu in the left-most screenshot):
        </p>
        <img src="projectiles1.png" width="20%"/> <img src="projectiles2.png" width="20%" /> <img src="projectiles3.png" width="20%" />
        <p>
            After clicking on each of the buttons in the red circles, you should see this:
        </p>
        <img src="../../editor documentation/edit menu/projectiles/edit.png" width="40%" />
        <p>
            There are many properties of the projectile that you can configure here, but only the <b>Name</b> is required. All custom 
            projectiles must have a distinct name, but other than that, the name matters very little. Click the question mark on the 
            top-left of the page for information about the other properties:
        </p>
        <img src="questionMark.png" width="40%" />
        <h3>Visibility</h3>
        <p>
            <b>By default, custom projectiles are invisible.</b> There are 2 ways to make them visible:
            <ul>
                <li>Give the projectile a <b>projectile cover</b>.</li>
                <li>Use <b>in-flight effects</b> that frequently spawn particles or firework at the location of the projectile.</li>
            </ul>
            For the first projectile in this tutorial, I will go with the second approach. The first approach will be demonstrated
            later in this tutorial.
        </p>
        <h3>In-flight effects</h3>
        <p>
            In-flight effects are 'effects' that will be 'played' periodically at the location of the custom projectile. To get 
            started, follow these steps:
        </p>
        <img src="flightEffects1.png" width="20%" /> <img src="flightEffects2.png" width="20%" />
        <p>
            If you followed these steps, you should see this:
        </p>
        <img src="../../editor documentation/edit menu/projectiles/effects/waves/edit.png" width="40%" />
        <p>
            Every custom projectile has an (initially empty) list of projectile effect <b>waves</b> and each <b>wave</b> has a list of 
            projectile effects and some timing properties. All projectile effects <b>in the same wave</b> will always be executed at the
            same time. Projectile effects from different ways can be executed independently. This page allows you to configure a 
            <b>single wave</b>. The <b>Ticks until first round</b> is the number of ticks (1 tick = 0.05 seconds) between the time the 
            custom projectile is launched and the <b>first time</b> the effects in the wave are executed. The <b>Ticks between rounds</b>
            is the delay in ticks between consecutive executions of the effects. For instance, if <i>Ticks until first round is 20</i>
            and <i>Ticks between rounds</i> is 40, the effects in the wave will be executed at the following moments:
            <ol>
                <li>1 second (20 ticks) after the projectile was launched</li>
                <li>3 seconds (20 + 40 = 60 ticks) after the projectile was launched</li>
                <li>5 seconds (20 + 2 * 40 = 100 ticks) after the projectile was launched</li>
                <li>7 seconds</li>
                <li>9 seconds</li>
                <li>... (this goes on until the projectile hits something or it despawns)</li>
            </ol>
            For decorative/display projectile effects, it is good to use very small values for <i>Ticks until first round</i> and
            <i>Ticks between rounds</i>. I will give both of them the value 1. Click on the <i>Change...</i> button on the right of 
            <b>Effects each round</b> to configure the effects that will be executed. You should see this:
        </p>
        <img src="flightEffects3.png" width="40%" />
        <p>
            This page is mostly empty because you haven't added any effects yet. To add an effect, click on the green <b>Add</b>
            button. After doing that, you should see this:
        </p>
        <img src="../../editor documentation/edit menu/projectiles/effects/create.png" width="40%" />
        <p>
            These are all the kinds of projectile effects you can add. The following projectile effects can be used to make the 
            projectile visible:
            <ul>
                <li>Show fireworks</li>
                <li>Spawn colored redstone dust</li>
                <li>Spawn simple particle</li>
                <li>Create explosion (but this one has dangerous side effects like destroying blocks)</li>
            </ul>
            In this tutorial, I will go for <i>Spawn colored redstone dust</i>. Clicking its button should take you to the following 
            menu:
        </p>
        <img src="../../editor documentation/edit menu/projectiles/effects/edit/colored.png" width="40%" />
        <p>
            You can configure the color of the redstone dust particles (you can choose any color; so doesn't have to be red). You 
            can use a site like <a href="https://www.colorspire.com/rgb-color-wheel/">RGB color wheel</a> to see which color will 
            be shown for given <b>R</b>ed, <b>G</b>reen, and <b>B</b>lue values. If your minimum and maximum red/green/blue are 
            not the same, there will be some random variation in the color of the particles that will be spawned. You can also control
            how many particles (<b>amount</b>) will be spawned per effect execution and how far they can be away from the projectile 
            (<b>radius</b>). I will stick with the default values this time. Click on <b>Create</b> when you are done with 
            configuring. You should be taken back to this menu:
        </p>
        <img src="flightEffects4.png" width="40%" />
        <p>
            If you want, you can click on <b>Add</b> to add another effect. When you are happy with your effects, you should click on
            <b>Back</b> and then on <b>Create</b>. After doing that, you should see (something like) this:
        </p>
        <img src="flightEffects5.png" width="40%" />
        <p>
            If you want, you can click on <b>Add effects</b> to add another <b>wave of effects</b>. If not, you should click on
            <b>Back</b>. You should be taken back to this menu:
        </p>
        <img src="../../editor documentation/edit menu/projectiles/edit.png" width="40%" />
        <h3>Impact effects</h3>
        <p>
            Custom projectiles can also have <b>impact effects</b>. Unlike <b>in flight</b> effects, the <b>impact</b> effects is 
            just a single list of projectile effects. All impact effects will be executed once when the projectile hits something or
            someone. If the projectile despawns, the impact effects will <b>not</b> be executed. For this tutorial projectile, I will 
            add a fireworks impact effect. To do so, click on <b>Impact effects</b> and then on <b>Add</b> and finally on
            <b>Show fireworks</b>. You should have been taken to this menu:
        </p>
        <img src="../../editor documentation/edit menu/projectiles/effects/edit/firework.png" width="40%" />
        <p>
            Firework projectile effects are the most complicated effects to configure (because minecraf fireworks are generally
            quite advanced). But, for a simple firework effect, there is only 1 thing you need to do: add a color:
        </p>
        <img src="fireworks.png" width="40%" />
        <p>
            The default color is pink, but you can change it to any color you want. You can again use 
            <a href="https://www.colorspire.com/rgb-color-wheel/">RGB color wheel</a> (or a similar site) to choose a color.
            You can configure more if you want, but it is not needed. Click the question mark on the top-left for information 
            about the rest of the properties you can configure. When you are done with this effect, click <b>Create</b>.
            If you want to add more impact effects, click on <b>Add</b>. If not, click on <b>Back</b>. You should be taken back 
            to this menu again:
        </p>
        <img src="../../editor documentation/edit menu/projectiles/edit.png" width="40%" />
        <p>
            Click on <b>Create</b> to finish the custom projectile. That should take you to this page:
        </p>
        <img src="projectiles4.png" width="40%" />
        <p>
            I gave my projectile the name <i>particle_projectile</i>. If you choose another name, that name should be shown 
            instead. The first projectile is finished, but it needs a wand or gun to launch it. I will first show how to create a 
            wand that will fire the projectile. Guns will be demonstrated later.
        </p>
        <h2>Wands</h2>
        <p>
            To create a wand, follow these steps:
        </p>
        <img src="projectiles5.png" width="18%" /> <img src="projectiles6.png" width="18%" /> <img src="wands1.png" width="18%" /> 
        <img src="wands2.png" width="18%" /> <img src="wands3.png" width="18%" />
        <p>
            You should have been taken to this page:
        </p>
        <img src="../../editor documentation/edit menu/items/edit/wand.png" width="40%" />
        <p>
            Like most other items, you need to give the wand a <b>Name</b> and <b>Texture</b>. I will use the following texture:
        </p>
        <img src="fire_wand.png" />
        <p>
            You must also give the wand a <b>Projectile</b>. You should choose the projectile you just created. You can also configure 
            the <b>Max charges</b>, <b>Recharge time</b> (this will appear when you increase <b>Max charges</b>), <b>Amount per shot</b>,
            and <b>Cooldown</b>. Click the question mark on the top-left for more information about them. I will just go with the 
            default values. To finish the wand, click <b>Create</b>. Once you have done that, you are ready to test your first 
            projectile and wand: Export your item set, replace your .cis file and resourcepack, and start your server!
        </p>
        <p>
            To try your new wand, you can acquire it using <b>/kci give wand_name</b> and fire it by right-clicking. It should leave
            a redstone trail wherever it goes and show fireworks whenever it hits something:
        </p>
        <img src="run1.png" width="40%" />
        <h2>Guns</h2>
        <p>
            As promised, I will also demonstrate how to use guns. From a technical perspective, guns are almost the same as wands.
            They can even use the exact same projectiles (but I will create a new projectile for the gun to show some more projectile 
            properties).
        </p>
        <h3>Projectile covers</h3>
        <p>
            The new projectile will use a <b>projectile cover</b> to display itself rather than (particle) projectile effects. A 
            projectile cover uses a 'custom item' that can <b>not</b> be obtained. The plug-in will ensure that a <i>dropped item</i>
            with the texture of the 'custom item' will follow the custom projectile. Since dropped items always rotate slowly,
            projectile cover models should look the same from each side. Before creating a projectile cover, you should first 
            create a texture for it. I will use the following texture:
        </p>
        <img src="bullet.png" />
        <p>
            To create the projectile cover, follow these steps:
        </p>
        <img src="cover1.png" width="20%" /> <img src="cover2.png" width="20%" /> <img src="cover3.png" width="20%" />
        <p>
            After following these steps, you should have landed on this page:
        </p>
        <img src="../../editor documentation/edit menu/projectiles/covers/create.png" width="40%" />
        <p>
            On this page, you need to choose the shape of your projectile cover. At the time of writing this, the only possible shapes
            are <i>sphere</i> and <i>custom</i>. I might add more shapes in the future, but there are no concrete plans for that.
            When you choose <i>sphere</i>, the Editor will generate a sphere-shaped item model for your projectile cover. When you 
            choose <i>custom</i>, you will have to supply the item model yourself. Creating custom shapes is quite complex, so I won't 
            cover that in this tutorial. Instead, I will go for a <i>sphere</i>. You should land on this page:
        </p>
        <img src="../../editor documentation/edit menu/projectiles/covers/edit/sphere.png" width="40%" />
        <p>
            You need to give the projectile cover a texture (for instance the black texture I use) and a unique name (I will give 
            it the name <i>bullet</i>). You can also change the other properties if you want, but I will stick with the default values. 
            You can change the <i>Scale</i> (the size) if you want the projectile to look bigger or smaller. You can click the question 
            mark on the top-left for information about the rest of the properties. When you are satisfied, click the green 
            <b>Create</b> button. Once you have done that, follow these steps to create the actual projectile:
        </p>
        <img src="cover4.png" width="20%" /> <img src="cover5.png" width="20%" /> <img src="cover6.png" width="20%" />
        <p>
            You should land on this page (again):
        </p>
        <img src="../../editor documentation/edit menu/projectiles/edit.png" width="40%" />
        <p>
            You also need to give this projectile a name (for instance <i>bullet</i>). To use the projectile cover you just made,
            click on the <b>None</b> button on the right of <b>Projectile cover:</b>. Then click on the <b>bullet</b> button 
            (or whatever you named your projectile cover). As finishing touch, I will also tell how to play a sound upon shooting
            this bullet:
            <ol>
                <li>Create a <b>in-flight</b> projectile effect wave.</li>
                <li>Set <b>Ticks until first round</b> to 0</li>
                <li>
                    Set <b>Time between rounds</b> to a big number (like 1234567). It is important that it is bigger than the 
                    <b>Lifetime</b> of the projectile (200 by default). If it is smaller, the sound will also be played somewhere
                    during its flight.
                </li>
                <li>
                    Give the wave a single <i>Play sound</i> projectile effect. You can use a volume and pitch of 1 and whatever 
                    sound you want.
                </li>
            </ol>
            Once you are done with configuring the name, projectile cover, and effects, you can click on <b>Create</b> to finish 
            the projectile.
        </p>
        <h3>The actual guns</h3>
        <p>
            Now that you have the bullet projectile, it is time to create guns that can shoot it. I will use the following gun 
            textures (not my best artwork, but this is just a tutorial):
        </p>
        <img src="gun1.png" /> <img src="gun2.png" />
        <p>
            I will show how to create 2 guns: 1 <b>direct</b> gun and 1 <b>indirect</b> gun. I will explain the difference later.
            First, I will show how to create the <b>direct</b> gun:
        </p>
        <img src="createGun1.png" width="20%" /> <img src="createGun2.png" width="20%" /> <img src="createGun3.png" width="20%" />
        <p>
            You should land on this page:
        </p>
        <img src="../../editor documentation/edit menu/items/edit/gun.png" width="40%" />
        <p>
            Like most other items, you also need to give guns a texture and a unique name. I will call it <i>direct_gun</i> and use 
            the texture with the brown handle. Just like wands, you also need to select a projectile (on the right). Go ahead and 
            choose the bullet projectile you just created. Finally, it is time to configure the <b>Ammo system</b>:
        </p>
        <img src="../../editor documentation/edit menu/items/edit/gun ammo direct.png" width="40%"/>
        <p>
            By default, guns will use <b>direct</b> ammo, so there is <b>no need</b> to click on the <i>Direct</i> or <i>Indirect</i>
            button. For direct guns, you only need to configure the <b>Ammo item</b> and cooldown. The default cooldown is 10 ticks 
            (half a second). You are free to change this, but I will leave it like this. So, the last thing to configure is the 
            <b>Ammo item</b>. Normally, you would create a separate ammo custom item for this, but I am lazy and will use flint
            instead. Once you have configured the ammo, you should click on <b>Apply</b> and then on <b>Create</b>.
        </p>
        <p>
            Now its time to create the second gun. This gun will be similar to the first one, but it will get <b>indirect</b> ammo 
            (and a slightly different name and texture). Start by following the same steps as you did for the first (direct) gun.
            But, when you configure the ammo system, click on the <b>Indirect</b> button:
        </p>
        <img src="createGun4.png" width="40%" />
        <p>
            After clicking <i>Indirect</i>, you should see this:
        </p>
        <img src="createGun5.png" width="40%" />
        <p>
            Indirect guns need to be <i>loaded</i> before they can shoot. Loading an indirect gun takes time and/or consumes items 
            from the players inventory. The <b>Recharge item</b> is the item that will be consumed (and required) to load the gun.
            If you don't choose a recharge item, loading the gun won't cost any items; it only takes time. (This is how ammo works
            in the game Overwatch). In this tutorial, I will use <i>30 flint</i> as recharge item. To do so, follow these steps:
        </p>
        <img src="rechargeFlint1.png" width="20%" /> <img src="rechargeFlint2.png" width="20%" /> 
        <img src="rechargeflint3.png" width="20%" /> <img src="rechargeFlint4.png" width="20%" />
        <p>
            The <b>Reload time</b> is the time (in ticks) it takes to reload the gun. I will just leave it 20 ticks (1 second).
            The <b>Stored ammo</b> is the number of projectile the player can shoot before needing to reload again. I will just leave it
            30 (I also used <b>30</b> flint as recharge item because it feels natural). Finally, you can configure the 
            <b>Start reload sound</b> and <b>Finish reload sound</b>. These sounds will be played when the player starts reloading the 
            gun and finishes reloading the gun. I will use <b>Block dispenser fail</b> and <b>Entity skeleton hurt</b>. Finally, you can 
            configure the <b>Cooldown</b>. This is the minimum time (in ticks) that the player needs to wait after shooting before 
            he can shoot again. If this time is very small, players will fire more than 1 bullet when right-clicking once because the 
            timing system of this plug-in is not very accurate. I will set the cooldown to 4 ticks. When you are done, click on 
            <b>Apply</b> and then <b>Create</b>.
        </p>
        <p>
            Now that you have added the guns, it is time to export and test them! You can use <b>/kci give ...</b> to give yourself 
            the guns. The <b>direct</b> gun should require and consume 1 flint each time you shoot with it. (Make sure you have flint 
            in your inventory.)
        </p>
        <img src="run2.1.png" width="40%" />
        <p>
            The <b>indirect</b> gun should have 30 ammo initially and reduce its ammo when you shoot with it. It should also shoot 
            more bullets per second than the <b>direct</b> gun because it has a cooldown of 4 ticks rather than 10. This gun won't 
            require any flint until it runs out of ammo. When it does run out of ammo and you try to shoot, you should hear its reload 
            sounds and see 30 flint being consumed from your inventory (at least, if you have at least 30 flint).
        </p>
        <img src="run2.2.png" width="40%" /> <img src="run2.3.png" width="40%" />
        <p>
            The ammo system of the indirect gun is not very convenient for the players because they can only see how much ammo they
            have left if they open their inventory to check the lore. This will be improved if you install the ActionBarAPI plug-in. 
            See <a href="../../compatibility/positive.html">the section about ActionBarAPI</a> for installation instructions. After 
            installing it and restarting your server, you should see this nice ammo bar:
        </p>
        <img src="run3.png" width="40%" />
        <p>
            By default, these helper texts will be in English. If you don't like that, you can change them in the file 
            <i>plugins/CustomItems/lang.yml</i>.
        </p>
    </body>
</html>